<!DOCTYPE html>
<html>
        <head>
                <script src="./Parallax_calc.js" type="text/javascript"></script>
                
                <script type="text/javascript">
                        function dms_dd(degrees, minutes, seconds, direction){
                                total = degrees + minutes/60 + seconds/3600
                                total *= direction
                                return total
                        }
                                
                        function buttonClicked(lat11, lat12, lat13, long11, long12, long13, ra1, dec1, alt1, lat21, lat22, lat23, long21, long22,long23, ra2, dec2, alt2, lat14, long14, lat24, long24){
                                lat11 = parseFloat(lat11)
                                lat12 = parseFloat(lat12)
                                lat13 = parseFloat(lat13)
                                long11 = parseFloat(long11)
                                long12 = parseFloat(long12)
                                long13 = parseFloat(long13)
                                ra1 = parseFloat(ra1)
                                dec1 = parseFloat(dec1)
                                alt1 = parseFloat(alt1)
                                lat21 = parseFloat(lat21)
                                lat22 = parseFloat(lat22)
                                lat23 = parseFloat(lat23)
                                long21 = parseFloat(long21)
                                long22 = parseFloat(long22)
                                long23 = parseFloat(long23)
                                ra2 = parseFloat(ra2)
                                dec2 = parseFloat(dec2)
                                alt2 = parseFloat(alt2)
                                lat14 = parseFloat(lat14)
                                lat24 = parseFloat(lat24)
                                long14 = parseFloat(long14)
                                long24 = parseFloat(long24)

                                let lat1Deg = dms_dd(lat11, lat12, lat13, lat14)
                                let long1Deg = dms_dd(long11, long12, long13, long14)
                                let lat2Deg = dms_dd(lat21, lat22, lat23, lat24)
                                let long2Deg = dms_dd(long21, long22, long23, long24)

                                let distance_to_moon = distances_to_moon(lat1Deg, long1Deg, ra1, dec1, alt1, lat2Deg, long2Deg, ra2, dec2, alt2);
                                
                                document.getElementById("distance1").innerHTML = distance_to_moon[0]
                                document.getElementById("distance2").innerHTML = distance_to_moon[1]
                                
                                document.getElementById("location1").innerHTML = String(lat1Deg) + ' ' + String(long1Deg)
                                document.getElementById("location2").innerHTML = String(lat2Deg) + ' ' + String(long2Deg)                              
                        }
                </script> 
        </head>
        <body style="font-family: Arial">
                <h1>Calculator: Distance to the moon</h>
                <p id="para1" style="font-size:20px;">

                        <!--START OF TABLE-->

                        Latitude of Location 1:<input type="number" id="lat11"/>˚<input type="number" id="lat12" max="89" min="0"/>'<input type="number" id="lat13"/>"<select id="lat1_ddm_dir"><option value="-1">S</option><option value="1">N</option></select><br><br>		        <!--Lat1-->
                        Longitude of Location 1:<input type="number" id="long11"/>˚<input type="number" id="long12" max="179" min="0"/>'<input type="number" id="long13"/>"<select id="long1_ddm_dir"><option value="-1">W</option><option value="1">E</option></select><br><br>            	<!--Long1-->
                        Right Ascension of Location 1:<input type="number" id="ra1"/>˚<br><br>	                                                                        	<!--RA1-->
                        Declination of Location 1:<input type="number" id="dec1" max="90" min="-90"/>˚<br><br>	                                                                        	<!--Dec1-->
                        Altitude of Location 1:<input type="number" id="alt1" max="359" min="0"/>˚<br><br>		                                                                        	<!--Alt1-->
                        <br><br>
                        Latitude of Location 2:<input type="number" id="lat21"/>˚<input type="number" id="lat22" max="89" min="0"/>'<input type="number" id="lat23"/>"<select id="lat2_ddm_dir"><option value="-1">S</option><option value="1">N</option></select><br><br>                   <!--Lat2-->
                        Longitude of Location 2:<input type="number" id="long21"/>˚<input type="number" id="long22" max="179" min="0"/>'<input type="number" id="long23"/>"<select id="long2_ddm_dir"><option value="-1">W</option><option value="1">E</option></select><br><br>	        <!--Long2-->
                        Right Ascension of Location 2:<input type="number" id="ra2"/>˚<br><br>	                                                                        	<!--RA2-->
                        Declination of Location 2:<input type="number" id="dec2" max="90" min="-90"/>˚<br><br>	                                                                        	<!--Dec2-->
                        Altitude of Location 2:<input type="number" id="alt2" max="359" min="0"/>˚<br><br>		                                                                        	<!--Alt2-->

                        <button onclick="buttonClicked(document.getElementById('lat11').value, document.getElementById('lat12').value, document.getElementById('lat13').value, document.getElementById('long11').value, document.getElementById('long12').value, document.getElementById('long13').value, document.getElementById('ra1').value, document.getElementById('dec1').value, document.getElementById('alt1').value, document.getElementById('lat21').value, document.getElementById('lat22').value, document.getElementById('lat23').value, document.getElementById('long21').value, document.getElementById('long22').value,document.getElementById('long23').value, document.getElementById('ra2').value, document.getElementById('dec2').value, document.getElementById('alt2').value, document.getElementById('lat1_ddm_dir').selectedOptions[0].value, document.getElementById('long1_ddm_dir').selectedOptions[0].value, document.getElementById('lat2_ddm_dir').selectedOptions[0].value, document.getElementById('long2_ddm_dir').selectedOptions[0].value)">Submit</button>

                        <!--END OF TABLE-->
                        
                        <script type="text/javascript">
                                
                                //document.getElementById("para1").innerHTML = window.distance_to_moon;
                        </script>
                        
                </p>
                <p id="para2" style="font-size:20px;">
                        <style>
                                table.tb { width: 450px; border-collapse: collapse; }
                                .tb th, .tb td { border: solid 1px #777; padding: 5px; }
                                .tb thead { background-color: steelblue; color: white; font-size: 20px}
                              </style>
                              <h>Output:</h>
                              <table class="tb">
                                <thead>
                                  <tr>
                                    <th>Location</th>
                                    <th>Distance</th>  
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td id="location1">Enter Inputs</td>
                                    <td id="distance1">Enter Inputs</td>
                                  </tr>
                                  <tr>
                                    <td id="location2">Enter Inputs</td>
                                    <td id="distance2">Enter Inputs</td>
                                  </tr>
                                </tbody>
                              </table>
                        </p>
                <p style="font-size:10px;">Based on work by Yiran Ma. <br>Kazumasa Miura, Blake Morris</p>
        </body>
</html>
